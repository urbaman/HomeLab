# network interface settings; autogenerated
# Please do NOT modify this file directly, unless you know what
# you're doing.
#
# If you want to manage parts of the network configuration manually,
# please utilize the 'source' or 'source-directory' directives to do
# so.
# PVE will preserve these directives, but will NOT read its network
# configuration from sourced files, so do not attempt to move any of
# the PVE managed interfaces into external files!

auto lo
iface lo inet loopback

auto eno1
iface eno1 inet manual
#wan

auto eno2
iface eno2 inet manual
        mtu 9000
#bond0 - vlan30 - CephStorage

auto eno3
iface eno3 inet manual
        mtu 9000
#bond0 - vlan30 - CephStorage

auto eno4
iface eno4 inet manual
        mtu 9000
#bond0 - vlan30 - CephStorage

auto enp4s0f3
iface enp4s0f3 inet manual
        mtu 9000
#bond1 - vlan70 - TruenasStorage

auto enp4s0f2
iface enp4s0f2 inet manual
        mtu 9000
#bond1 - vlan70 - TruenasStorage

auto enp4s0f1
iface enp4s0f1 inet manual
        mtu 9000
#bond1 - vlan70 - TruenasStorage

auto enp4s0f0
iface enp4s0f0 inet manual
        mtu 9000
#bond1 - vlan90 - k8sStorage

auto enp140s0f0
iface enp140s0f0 inet manual
        mtu 9000
#bond1 - vlan90 - k8sStorage

iface enp140s0f0 inet manual
#bond1 - vlan90 - k8sStorage

auto enp140s0f1
iface enp140s0f1 inet manual
        mtu 9000
#bond1 - vlan90 - k8sStorage

iface enp140s0f1 inet manual
#bond1 - vlan90 - k8sStorage

auto enp140s0f2
iface enp140s0f2 inet manual
        mtu 9000
#bond2 - trunk

iface enp140s0f2 inet manual
#bond2 - trunk

auto enp140s0f3
iface enp140s0f3 inet manual
        mtu 9000
#bond2 - trunk

iface enp140s0f3 inet manual
#bond2 - trunk

auto enp129s0f0
iface enp129s0f0 inet manual
        mtu 9000
#bond2 - trunk

auto enp129s0f1
iface enp129s0f1 inet manual
        mtu 9000
#bond2 - trunk

auto bond0
iface bond0 inet manual
        bond-slaves eno2 eno3 eno4 enp4s0f1
        bond-miimon 100
        bond-mode 802.3ad
        bond-xmit-hash-policy layer2+3
        mtu 9000
#vlan30 - CephStorage

auto bond1
iface bond1 inet manual
        bond-slaves enp140s0f0 enp140s0f1 enp4s0f0 enp4s0f2
        bond-miimon 100
        bond-mode 802.3ad
        bond-xmit-hash-policy layer2+3
        mtu 9000
#vlan90 - K8sStorage

auto bond2
iface bond2 inet manual
        bond-slaves eno1 enp129s0f1 enp140s0f2 enp140s0f3 enp4s0f3
        bond-miimon 100
        bond-mode 802.3ad
        bond-xmit-hash-policy layer2+3
        mtu 9000
#trunk

auto vmbr0
iface vmbr0 inet manual
        address 10.0.30.11/24
        bridge-ports bond0
        bridge-stp off
        bridge-fd 0
        mtu 9000
#vlan30 - CephStorage

auto vmbr1
iface vmbr1 inet manual
        bridge-ports bond1
        bridge-stp off
        bridge-fd 0
        mtu 9000
#vlan90 - K8sStorage

auto vmbr2
iface vmbr2 inet manual
        bridge-ports bond2
        bridge-stp off
        bridge-fd 0
        bridge-vlan-aware yes
        bridge-vids 1 10 20 30 40 50 60 70 80 90 100
        mtu 9000
        bridge-pvid 1
#trunk

auto vmbr2.20
iface vmbr2.20 inet static
        address 10.0.20.11/24
        mtu 9000
#vlan20 - ProxmoxCluster

auto vmbr2.40
iface vmbr2.40 inet static
        address 10.0.40.11/24
        mtu 9000
#vlan40 - CephPublic

auto vmbr2.80
iface vmbr2.80 inet static
        address 10.0.80.11/24
        mtu 9000
#vlan80 - ProxmoxMigration

auto vmbr2.100
iface vmbr2.100 inet static
        address 10.0.100.11/24
        gateway 10.0.100.3
        mtu 9000
#vlan100 - Proxmox
